\hypertarget{classRequestHandler}{}\doxysection{Request\+Handler Class Reference}
\label{classRequestHandler}\index{RequestHandler@{RequestHandler}}


RTSP 요청 처리 클래스  




{\ttfamily \#include $<$Request\+Handler.\+h$>$}



Collaboration diagram for Request\+Handler\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=248pt]{classRequestHandler__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classRequestHandler_a5b3d29ebd79cf9befc8f0b72280503c5}{Request\+Handler}} (\mbox{\hyperlink{classClientSession}{Client\+Session}} $\ast$\mbox{\hyperlink{classRequestHandler_ad3726f8cce7cebcee401017d2fff1ed3}{session}})
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classRequestHandler}{Request\+Handler}} 생성자 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRequestHandler_a73cf4be812db3c45a9941e3e927f7735}{operator()}} ()
\begin{DoxyCompactList}\small\item\em 함수 호출 연산자 오버로딩 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRequestHandler_a977c6714dfbe4bcb0f1fdfe3a9ffcdf0}{Handle\+Request}} ()
\begin{DoxyCompactList}\small\item\em RTSP 요청을 처리하는 메인 메서드 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRequestHandler_a2e0e566ccb932763af41c5f195bb195e}{Start\+Thread}} ()
\begin{DoxyCompactList}\small\item\em 요청 처리를 위한 스레드를 시작하는 메서드 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classRequestHandler_a29b87738eef635a6bfc4068281157496}{Parse\+Method}} (const std\+::string \&request)
\begin{DoxyCompactList}\small\item\em RTSP 메서드를 파싱하는 메서드 \end{DoxyCompactList}\item 
int \mbox{\hyperlink{classRequestHandler_a58e4b7f806f39064b02c3121e3dc9d5c}{Parse\+CSeq}} (const std\+::string \&request)
\begin{DoxyCompactList}\small\item\em CSeq 값을 파싱하는 메서드 \end{DoxyCompactList}\item 
std\+::pair$<$ int, int $>$ \mbox{\hyperlink{classRequestHandler_a5b904ae4bdffb632e3fe8e3af9fabfe1}{Parse\+Ports}} (const std\+::string \&request)
\begin{DoxyCompactList}\small\item\em RTP/\+RTCP 포트를 파싱하는 메서드 \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classRequestHandler_aa10783383d83d4eb81fc7e8931c427ca}{Parse\+Accept}} (const std\+::string \&request)
\begin{DoxyCompactList}\small\item\em Accept 헤더를 파싱하는 메서드 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRequestHandler_a3a968d73b7f304253fd7ec34a20c8a43}{Handle\+Options\+Request}} (const int cseq)
\begin{DoxyCompactList}\small\item\em OPTIONS 요청을 처리하는 메서드 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRequestHandler_a97265bdc463799a354b43f66301d0674}{Handle\+Describe\+Request}} (const std\+::string \&request, const int cseq)
\begin{DoxyCompactList}\small\item\em DESCRIBE 요청을 처리하는 메서드 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRequestHandler_a9bf1d9458bee6aa2d2e21dbdd231cb04}{Handle\+Setup\+Request}} (const std\+::string \&request, const int cseq)
\begin{DoxyCompactList}\small\item\em SETUP 요청을 처리하는 메서드 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRequestHandler_a4dd4a64ee2e81095cb3daa28ba326d82}{Handle\+Play\+Request}} (int cseq)
\begin{DoxyCompactList}\small\item\em PLAY 요청을 처리하는 메서드 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRequestHandler_add64570d46ae57fb15e90abe99628f40}{Handle\+Pause\+Request}} (int cseq)
\begin{DoxyCompactList}\small\item\em PAUSE 요청을 처리하는 메서드 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classRequestHandler_ab8aad5c364b0b8dee0ad82fd72f29207}{Handle\+Teardown\+Request}} (int cseq)
\begin{DoxyCompactList}\small\item\em TEARDOWN 요청을 처리하는 메서드 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classClientSession}{Client\+Session}} $>$ \mbox{\hyperlink{classRequestHandler_ad3726f8cce7cebcee401017d2fff1ed3}{session}}
\begin{DoxyCompactList}\small\item\em 클라이언트 세션 객체 \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMediaStreamHandler}{Media\+Stream\+Handler}} $\ast$ \mbox{\hyperlink{classRequestHandler_a2e41a61070c75d1517a8cd9f193421fa}{media\+Stream\+Handler}}
\begin{DoxyCompactList}\small\item\em 미디어 스트림 핸들러 처리 객체 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
RTSP 요청 처리 클래스 

클라이언트로부터 받은 RTSP 요청을 파싱하고 처리하며, 적절한 응답(\+OPTIONS, DESCRIBE, SETUP, PLAY, PAUSE, TEARDOWN)을 생성하는 기능을 제공한다. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classRequestHandler_a5b3d29ebd79cf9befc8f0b72280503c5}\label{classRequestHandler_a5b3d29ebd79cf9befc8f0b72280503c5}} 
\index{RequestHandler@{RequestHandler}!RequestHandler@{RequestHandler}}
\index{RequestHandler@{RequestHandler}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{RequestHandler()}{RequestHandler()}}
{\footnotesize\ttfamily Request\+Handler\+::\+Request\+Handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classClientSession}{Client\+Session}} $\ast$}]{session }\end{DoxyParamCaption})}



\mbox{\hyperlink{classRequestHandler}{Request\+Handler}} 생성자 


\begin{DoxyParams}{Parameters}
{\em session} & 클라이언트 세션 객체 \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classRequestHandler_a97265bdc463799a354b43f66301d0674}\label{classRequestHandler_a97265bdc463799a354b43f66301d0674}} 
\index{RequestHandler@{RequestHandler}!HandleDescribeRequest@{HandleDescribeRequest}}
\index{HandleDescribeRequest@{HandleDescribeRequest}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{HandleDescribeRequest()}{HandleDescribeRequest()}}
{\footnotesize\ttfamily void Request\+Handler\+::\+Handle\+Describe\+Request (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{request,  }\item[{const int}]{cseq }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



DESCRIBE 요청을 처리하는 메서드 


\begin{DoxyParams}{Parameters}
{\em request} & RTSP 요청 문자열 \\
\hline
{\em cseq} & 요청의 CSeq 값\\
\hline
\end{DoxyParams}
미디어 스트림 정보를 포함한 SDP 응답 생성\+:
\begin{DoxyItemize}
\item 비디오(\+H264)나 오디오(\+Opus) 스트림 정보
\item 세션 ID, 버전, IP 주소 등의 정보 포함 
\end{DoxyItemize}\mbox{\Hypertarget{classRequestHandler_a3a968d73b7f304253fd7ec34a20c8a43}\label{classRequestHandler_a3a968d73b7f304253fd7ec34a20c8a43}} 
\index{RequestHandler@{RequestHandler}!HandleOptionsRequest@{HandleOptionsRequest}}
\index{HandleOptionsRequest@{HandleOptionsRequest}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{HandleOptionsRequest()}{HandleOptionsRequest()}}
{\footnotesize\ttfamily void Request\+Handler\+::\+Handle\+Options\+Request (\begin{DoxyParamCaption}\item[{const int}]{cseq }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



OPTIONS 요청을 처리하는 메서드 


\begin{DoxyParams}{Parameters}
{\em cseq} & 요청의 CSeq 값\\
\hline
\end{DoxyParams}
지원하는 RTSP 메서드 목록을 포함한 응답 생성 \mbox{\Hypertarget{classRequestHandler_add64570d46ae57fb15e90abe99628f40}\label{classRequestHandler_add64570d46ae57fb15e90abe99628f40}} 
\index{RequestHandler@{RequestHandler}!HandlePauseRequest@{HandlePauseRequest}}
\index{HandlePauseRequest@{HandlePauseRequest}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{HandlePauseRequest()}{HandlePauseRequest()}}
{\footnotesize\ttfamily void Request\+Handler\+::\+Handle\+Pause\+Request (\begin{DoxyParamCaption}\item[{int}]{cseq }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



PAUSE 요청을 처리하는 메서드 


\begin{DoxyParams}{Parameters}
{\em cseq} & 요청의 CSeq 값\\
\hline
\end{DoxyParams}
미디어 스트림 일시 정지 명령 처리 \mbox{\Hypertarget{classRequestHandler_a4dd4a64ee2e81095cb3daa28ba326d82}\label{classRequestHandler_a4dd4a64ee2e81095cb3daa28ba326d82}} 
\index{RequestHandler@{RequestHandler}!HandlePlayRequest@{HandlePlayRequest}}
\index{HandlePlayRequest@{HandlePlayRequest}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{HandlePlayRequest()}{HandlePlayRequest()}}
{\footnotesize\ttfamily void Request\+Handler\+::\+Handle\+Play\+Request (\begin{DoxyParamCaption}\item[{int}]{cseq }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



PLAY 요청을 처리하는 메서드 


\begin{DoxyParams}{Parameters}
{\em cseq} & 요청의 CSeq 값\\
\hline
\end{DoxyParams}
미디어 스트림 재생 명령 처리 \mbox{\Hypertarget{classRequestHandler_a977c6714dfbe4bcb0f1fdfe3a9ffcdf0}\label{classRequestHandler_a977c6714dfbe4bcb0f1fdfe3a9ffcdf0}} 
\index{RequestHandler@{RequestHandler}!HandleRequest@{HandleRequest}}
\index{HandleRequest@{HandleRequest}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{HandleRequest()}{HandleRequest()}}
{\footnotesize\ttfamily void Request\+Handler\+::\+Handle\+Request (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



RTSP 요청을 처리하는 메인 메서드 

RTSP 요청 처리 메인 루프\+:
\begin{DoxyEnumerate}
\item 요청 수신
\item CSeq 및 메서드 파싱
\item 메서드별 적절한 핸들러 호출 
\end{DoxyEnumerate}\mbox{\Hypertarget{classRequestHandler_a9bf1d9458bee6aa2d2e21dbdd231cb04}\label{classRequestHandler_a9bf1d9458bee6aa2d2e21dbdd231cb04}} 
\index{RequestHandler@{RequestHandler}!HandleSetupRequest@{HandleSetupRequest}}
\index{HandleSetupRequest@{HandleSetupRequest}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{HandleSetupRequest()}{HandleSetupRequest()}}
{\footnotesize\ttfamily void Request\+Handler\+::\+Handle\+Setup\+Request (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{request,  }\item[{const int}]{cseq }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



SETUP 요청을 처리하는 메서드 


\begin{DoxyParams}{Parameters}
{\em request} & RTSP 요청 문자열 \\
\hline
{\em cseq} & 요청의 CSeq 값\\
\hline
\end{DoxyParams}
스트리밍을 위한 초기 설정 처리\+:
\begin{DoxyEnumerate}
\item RTP/\+RTCP 포트 설정
\item UDP 소켓 생성
\item 미디어 스트림 핸들러 초기화
\item 스트리밍 스레드 시작 
\end{DoxyEnumerate}\mbox{\Hypertarget{classRequestHandler_ab8aad5c364b0b8dee0ad82fd72f29207}\label{classRequestHandler_ab8aad5c364b0b8dee0ad82fd72f29207}} 
\index{RequestHandler@{RequestHandler}!HandleTeardownRequest@{HandleTeardownRequest}}
\index{HandleTeardownRequest@{HandleTeardownRequest}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{HandleTeardownRequest()}{HandleTeardownRequest()}}
{\footnotesize\ttfamily void Request\+Handler\+::\+Handle\+Teardown\+Request (\begin{DoxyParamCaption}\item[{int}]{cseq }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



TEARDOWN 요청을 처리하는 메서드 


\begin{DoxyParams}{Parameters}
{\em cseq} & 요청의 CSeq 값\\
\hline
\end{DoxyParams}
세션 종료 및 리소스 정리 처리 \mbox{\Hypertarget{classRequestHandler_a73cf4be812db3c45a9941e3e927f7735}\label{classRequestHandler_a73cf4be812db3c45a9941e3e927f7735}} 
\index{RequestHandler@{RequestHandler}!operator()@{operator()}}
\index{operator()@{operator()}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{operator()()}{operator()()}}
{\footnotesize\ttfamily void Request\+Handler\+::operator() (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



함수 호출 연산자 오버로딩 

요청 처리를 위한 Handle\+Request 메서드 호출 \mbox{\Hypertarget{classRequestHandler_aa10783383d83d4eb81fc7e8931c427ca}\label{classRequestHandler_aa10783383d83d4eb81fc7e8931c427ca}} 
\index{RequestHandler@{RequestHandler}!ParseAccept@{ParseAccept}}
\index{ParseAccept@{ParseAccept}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{ParseAccept()}{ParseAccept()}}
{\footnotesize\ttfamily bool Request\+Handler\+::\+Parse\+Accept (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Accept 헤더를 파싱하는 메서드 


\begin{DoxyParams}{Parameters}
{\em request} & RTSP 요청 문자열 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool SDP 수락 여부
\end{DoxyReturn}
Accept 헤더에서 \char`\"{}application/sdp\char`\"{} 지원 여부 확인 \mbox{\Hypertarget{classRequestHandler_a58e4b7f806f39064b02c3121e3dc9d5c}\label{classRequestHandler_a58e4b7f806f39064b02c3121e3dc9d5c}} 
\index{RequestHandler@{RequestHandler}!ParseCSeq@{ParseCSeq}}
\index{ParseCSeq@{ParseCSeq}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{ParseCSeq()}{ParseCSeq()}}
{\footnotesize\ttfamily int Request\+Handler\+::\+Parse\+CSeq (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



CSeq 값을 파싱하는 메서드 


\begin{DoxyParams}{Parameters}
{\em request} & RTSP 요청 문자열 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 파싱된 CSeq 값 (-\/1\+: 파싱 실패)
\end{DoxyReturn}
요청 헤더에서 \char`\"{}\+CSeq\char`\"{} 필드를 찾아 값을 파싱 \mbox{\Hypertarget{classRequestHandler_a29b87738eef635a6bfc4068281157496}\label{classRequestHandler_a29b87738eef635a6bfc4068281157496}} 
\index{RequestHandler@{RequestHandler}!ParseMethod@{ParseMethod}}
\index{ParseMethod@{ParseMethod}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{ParseMethod()}{ParseMethod()}}
{\footnotesize\ttfamily std\+::string Request\+Handler\+::\+Parse\+Method (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



RTSP 메서드를 파싱하는 메서드 


\begin{DoxyParams}{Parameters}
{\em request} & RTSP 요청 문자열 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::string 파싱된 RTSP 메서드
\end{DoxyReturn}
RTSP 요청의 첫 줄에서 메서드 이름을 추출 \mbox{\Hypertarget{classRequestHandler_a5b904ae4bdffb632e3fe8e3af9fabfe1}\label{classRequestHandler_a5b904ae4bdffb632e3fe8e3af9fabfe1}} 
\index{RequestHandler@{RequestHandler}!ParsePorts@{ParsePorts}}
\index{ParsePorts@{ParsePorts}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{ParsePorts()}{ParsePorts()}}
{\footnotesize\ttfamily std\+::pair$<$ int, int $>$ Request\+Handler\+::\+Parse\+Ports (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{request }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



RTP/\+RTCP 포트를 파싱하는 메서드 


\begin{DoxyParams}{Parameters}
{\em request} & RTSP 요청 문자열 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
std\+::pair$<$int, int$>$ RTP와 RTCP 포트 번호 쌍
\end{DoxyReturn}
Transport 헤더에서 \char`\"{}client\+\_\+port\char`\"{} 필드를 파싱하여 RTP/\+RTCP 포트 쌍 추출 \mbox{\Hypertarget{classRequestHandler_a2e0e566ccb932763af41c5f195bb195e}\label{classRequestHandler_a2e0e566ccb932763af41c5f195bb195e}} 
\index{RequestHandler@{RequestHandler}!StartThread@{StartThread}}
\index{StartThread@{StartThread}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{StartThread()}{StartThread()}}
{\footnotesize\ttfamily void Request\+Handler\+::\+Start\+Thread (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



요청 처리를 위한 스레드를 시작하는 메서드 

새로운 스레드를 생성하고 detach하여 백그라운드에서 요청을 처리 

\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classRequestHandler_a2e41a61070c75d1517a8cd9f193421fa}\label{classRequestHandler_a2e41a61070c75d1517a8cd9f193421fa}} 
\index{RequestHandler@{RequestHandler}!mediaStreamHandler@{mediaStreamHandler}}
\index{mediaStreamHandler@{mediaStreamHandler}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{mediaStreamHandler}{mediaStreamHandler}}
{\footnotesize\ttfamily \mbox{\hyperlink{classMediaStreamHandler}{Media\+Stream\+Handler}}$\ast$ Request\+Handler\+::media\+Stream\+Handler\hspace{0.3cm}{\ttfamily [private]}}



미디어 스트림 핸들러 처리 객체 

\mbox{\Hypertarget{classRequestHandler_ad3726f8cce7cebcee401017d2fff1ed3}\label{classRequestHandler_ad3726f8cce7cebcee401017d2fff1ed3}} 
\index{RequestHandler@{RequestHandler}!session@{session}}
\index{session@{session}!RequestHandler@{RequestHandler}}
\doxysubsubsection{\texorpdfstring{session}{session}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classClientSession}{Client\+Session}}$>$ Request\+Handler\+::session\hspace{0.3cm}{\ttfamily [private]}}



클라이언트 세션 객체 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
inc/\mbox{\hyperlink{RequestHandler_8h}{Request\+Handler.\+h}}\item 
src/\mbox{\hyperlink{RequestHandler_8cpp}{Request\+Handler.\+cpp}}\end{DoxyCompactItemize}
